module.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){String.prototype.replaceAll=function(e,t){return this,this.replace(new RegExp(e,"g"),t)},e.exports={config:{synchronizeChanges:{title:"Synchronize Changes",description:"Writes changes in the new tab back to the origin",type:"boolean",default:!0,order:1},targetPane:{title:"Target Pane",description:"Specifies the default pane for the new tab",type:"string",default:"",enum:[{value:"",description:"(current)"},{value:"up",description:"Split Up"},{value:"down",description:"Split Down"},{value:"left",description:"Split Left"},{value:"right",description:"Split Right"}],order:2},indentOrigin:{title:"Auto-indent Origin",description:"Auto-indent changes written back to the originating tab",type:"boolean",default:!1,order:3},ignoreScope:{title:"Ignore Scope",description:"Doesn't apply the origin's grammar on the new tab",type:"boolean",default:!1,order:4},defaultTabName:{title:"Default Tab-name",description:"Define a default scheme for new tabs. Available placeholders: `%file%` for file-name, `%id%` for editor ID, and `%count%` to count tabs",type:"string",default:"",order:5},outputFormat:{title:"Formatting Options",type:"object",order:6,properties:{select:{title:"Select",description:"Selects the newly added text",type:"boolean",default:!1,order:1},autoIndent:{title:"Auto-indent",description:"Indents all inserted text appropriately",type:"boolean",default:!0,order:2},autoIndentNewline:{title:"Auto-indent New Line",description:"Indent new line appropriately",type:"boolean",default:!0,order:3},autoDecreaseIndent:{title:"Auto-decrease Indent",description:"Decreases indent level appropriately (for example, when a closing bracket is inserted)",type:"boolean",default:!0,order:4},normalizeLineEndings:{title:"Normalize Line Endings",type:"boolean",default:!0,order:5}}}},subscriptions:null,counter:0,activate:function(e){var t;return({CompositeDisposable:t}=n(1)),this.subscriptions=new t,this.subscriptions.add(atom.commands.add("atom-workspace",{"edit-in-new-tab:copy-selection":()=>this.editInNewTab(!1)})),this.subscriptions.add(atom.commands.add("atom-workspace",{"edit-in-new-tab:settings":()=>this.openSettings()}))},deactivate:function(){return this.subscriptions.dispose()},editInNewTab:function(){var e,t,i,o,r,a,s,d,c,l,u;if(d=atom.workspace.getActiveTextEditor())return c=d.getLastSelection(),(l={scope:d.getGrammar().scopeName,text:c.getText()}).text.length>0?(u=atom.config.get("edit-in-new-tab.targetPane"),t=atom.config.get("edit-in-new-tab.defaultTabName"),this.counter+=1,t?(({basename:e,extname:i}=n(2)),o=e(a=atom.workspace.getActiveTextEditor().getFileName().toString(),r=i(a)),s=`${t.replaceAll("%file%",o).replaceAll("%id%",d.id).replaceAll("%count%",this.counter)}${r}`):null,atom.workspace.open(s,{split:u}).then(function(e){var t,n;if(n={select:atom.config.get("edit-in-new-tab.outputFormat.select"),autoIndent:atom.config.get("edit-in-new-tab.outputFormat.autoIndent"),autoIndentNewline:atom.config.get("edit-in-new-tab.outputFormat.autoIndentNewline"),autoDecreaseIndent:atom.config.get("edit-in-new-tab.outputFormat.autoDecreaseIndent"),normalizeLineEndings:atom.config.get("edit-in-new-tab.outputFormat.normalizeLineEndings")},e.insertText(l.text,n),!0!==atom.config.get("edit-in-new-tab.ignoreScope")&&e.setGrammar(atom.grammars.grammarForScopeName(l.scope)),!0===atom.config.get("edit-in-new-tab.synchronizeChanges"))return t=atom.workspace.getActiveTextEditor(),atom.workspace.observeTextEditors(function(e){if(e.id===t.id)return t.onDidChange(function(){if(c.insertText(e.getText(),{select:!0}),!0===atom.config.get("edit-in-new-tab.indentOrigin"))return atom.commands.dispatch(atom.views.getView(d),"editor:auto-indent")})})}).catch(function(e){return atom.notifications.addError(e,{dismissable:!0})})):atom.beep()},openSettings:function(){return atom.workspace.open("atom://config/packages/edit-in-new-tab",{pending:!0,searchAllPanes:!0})}}},function(e,t){e.exports=require("atom")},function(e,t){e.exports=require("path")}]);
//# sourceMappingURL=edit-in-new-tab.js.map